# Super Hero App - Backend

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **NestJS** - Node.js —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–µ—Ä–≤–µ—Ä–Ω–∏—Ö –¥–æ–¥–∞—Ç–∫—ñ–≤
- **TypeScript** - —Ç–∏–ø—ñ–∑–æ–≤–∞–Ω–∞ –º–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- **PostgreSQL** - –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **MinIO** - –æ–±'—î–∫—Ç–Ω–µ —Å—Ö–æ–≤–∏—â–µ –¥–ª—è —Ñ–∞–π–ª—ñ–≤
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è
- **JWT** - –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- **Passport** - —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- [Docker](https://docs.docker.com/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [Node.js](https://nodejs.org/) (–≤–µ—Ä—Å—ñ—è 18 –∞–±–æ –Ω–æ–≤—ñ—à–∞)
- [npm](https://www.npmjs.com/) –∞–±–æ [yarn](https://yarnpkg.com/)

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url>
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
npm install
```

–∞–±–æ

```bash
yarn install
```

### 3. –ó–∞–ø—É—Å–∫ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —á–µ—Ä–µ–∑ Docker

–°–ø–æ—á–∞—Ç–∫—É –∑–∞–ø—É—Å—Ç—ñ—Ç—å PostgreSQL —Ç–∞ MinIO:

```bash
docker-compose up -d
```

–¶—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

- **PostgreSQL** –Ω–∞ –ø–æ—Ä—Ç—É `5432`
  - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö: `heroes`
  - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: `postgres`
  - –ü–∞—Ä–æ–ª—å: `postgres`
- **MinIO** –Ω–∞ –ø–æ—Ä—Ç–∞—Ö `9000` (API) —Ç–∞ `9090` (Console)
  - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á: `minioadmin`
  - –ü–∞—Ä–æ–ª—å: `minioadmin123`

### 4. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/heroes

# JWT
JWT_SECRET=your-super-secret-jwt-key

# MinIO
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=heroes-bucket

# –î–æ–¥–∞—Ç–æ–∫
PORT=3000
NODE_ENV=development
```

### 5. –ó–∞–ø—É—Å–∫ –¥–æ–¥–∞—Ç–∫—É

#### –†–µ–∂–∏–º —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
npm run start:dev
```

#### –†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–Ω

```bash
npm run build
npm run start:prod
```

#### –†–µ–∂–∏–º –∑ –≤—ñ–¥–ª–∞–¥–∂–µ–Ω–Ω—è–º

```bash
npm run start:debug
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ —é–Ω—ñ—Ç —Ç–µ—Å—Ç—ñ–≤

```bash
npm run test
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –∑ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è–º –∑–º—ñ–Ω

```bash
npm run test:watch
```

### –ó–∞–ø—É—Å–∫ e2e —Ç–µ—Å—Ç—ñ–≤

```bash
npm run test:e2e
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º

```bash
npm run test:cov
```

## üê≥ Docker –∫–æ–º–∞–Ω–¥–∏

### –ó–∞–ø—É—Å–∫ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏

```bash
# –ó–∞–ø—É—Å–∫ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ
docker-compose up -d

# –ó–∞–ø—É—Å–∫ –∑ –ª–æ–≥–∞–º–∏
docker-compose up

# –ó—É–ø–∏–Ω–∫–∞ —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose down

# –ó—É–ø–∏–Ω–∫–∞ –∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º —Ç–æ–º—ñ–≤
docker-compose down -v
```

### –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤

```bash
docker-compose ps
```

### –ü–µ—Ä–µ–≥–ª—è–¥ –ª–æ–≥—ñ–≤

```bash
# –õ–æ–≥–∏ –≤—Å—ñ—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose logs

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É
docker-compose logs postgres
docker-compose logs minio
```

## üîß –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏

### –õ—ñ–Ω—Ç–∏–Ω–≥ —Ç–∞ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è

```bash
# –ó–∞–ø—É—Å–∫ ESLint
npm run lint

# –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –∫–æ–¥—É
npm run format
```

### –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

```bash
# –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ PostgreSQL —á–µ—Ä–µ–∑ Docker
docker exec -it postgres-heroes psql -U postgres -d heroes
```

### –î–æ—Å—Ç—É–ø –¥–æ MinIO Console

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ: http://localhost:9090

- –õ–æ–≥—ñ–Ω: `minioadmin`
- –ü–∞—Ä–æ–ª—å: `minioadmin123`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
back-end/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.controller.ts      # –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ app.module.ts          # –ì–æ–ª–æ–≤–Ω–∏–π –º–æ–¥—É–ª—å –¥–æ–¥–∞—Ç–∫—É
‚îÇ   ‚îú‚îÄ‚îÄ app.service.ts         # –û—Å–Ω–æ–≤–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
‚îÇ   ‚îî‚îÄ‚îÄ main.ts               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îú‚îÄ‚îÄ test/                     # E2E —Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ docker-compose.yaml       # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ package.json             # NPM –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îî‚îÄ‚îÄ README.md               # –¶–µ–π —Ñ–∞–π–ª
```

## üåê API Endpoints

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–æ–∫ –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é: http://localhost:3000

## üö® –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### –ü–æ—Ä—Ç–∏ –∑–∞–π–Ω—è—Ç—ñ

–Ø–∫—â–æ –ø–æ—Ä—Ç–∏ 5432, 9000 –∞–±–æ 9090 –∑–∞–π–Ω—è—Ç—ñ, –∑–º—ñ–Ω—ñ—Ç—å —ó—Ö —É —Ñ–∞–π–ª—ñ `docker-compose.yaml`.

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø—É

–ù–∞ Linux/macOS –º–æ–∂—É—Ç—å –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∞–≤–∞:

```bash
sudo docker-compose up -d
```

### –û—á–∏—â–µ–Ω–Ω—è Docker

–Ø–∫—â–æ –≤–∏–Ω–∏–∫–∞—é—Ç—å –ø—Ä–æ–±–ª–µ–º–∏ –∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏:

```bash
# –ó—É–ø–∏–Ω–∫–∞ –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker-compose down

# –í–∏–¥–∞–ª–µ–Ω–Ω—è —Ç–æ–º—ñ–≤
docker-compose down -v

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose up -d
```
